#!/usr/bin/env perl

use strict;
use warnings;
use FindBin qw($Bin);
use lib "$Bin/../lib", "$Bin/../local/lib/perl5";
use Mojolicious::Commands;

die "BLIPTOWN_SECRET not defined" unless $ENV{BLIPTOWN_SECRET};
die "BLIPTOWN_SALT not defined" unless $ENV{BLIPTOWN_SALT};
die "BLIPTOWN_HEALTH_FILE not defined " unless $ENV{BLIPTOWN_HEALTH_FILE};
die "BLIPTOWN_HELPER_HEALTH_FILE not defined " unless $ENV{BLIPTOWN_HELPER_HEALTH_FILE};
die "BLIPTOWN_HELPER_SOCKER not defined " unless $ENV{BLIPTOWN_HELPER_SOCKET};

die "BLIPTOWN_DOMAIN not defined " unless $ENV{BLIPTOWN_DOMAIN};
die "BLIPTOWN_USER_HOME not defined " unless $ENV{BLIPTOWN_USER_HOME};
die "BLIPTOWN_DB not defined" unless $ENV{BLIPTOWN_DB};
die "BLIPTOWN_LOG_HOME not defined" unless $ENV{BLIPTOWN_LOG_HOME};
die "BLIPTOWN_GEOIP_DB not defined" unless $ENV{BLIPTOWN_GEOIP_DB};

die "BLIPTOWN_MD4C_LIB not defined" unless $ENV{BLIPTOWN_MD4C_LIB};
die "BLIPTOWN_MD4C_HTML_LIB not defined" unless $ENV{BLIPTOWN_MD4C_HTML_LIB};

Mojolicious::Commands->start_app('Bliptown');
